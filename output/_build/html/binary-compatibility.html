

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Binary Compatibility &mdash; gcc 6 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="gcc 6 documentation" href="index.html" />
    <link rel="up" title="Introduction" href="gcc.html" />
    <link rel="next" title="&lt;no title&gt;" href="gcova-test-coverage-program.html" />
    <link rel="prev" title="Messaging with the GNU Objective-C Runtime" href="messaging-with-the-gnu-objective-c-runtime.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gcova-test-coverage-program.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="messaging-with-the-gnu-objective-c-runtime.html" title="Messaging with the GNU Objective-C Runtime"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">gcc 6 documentation</a> &raquo;</li>
          <li><a href="gcc.html" accesskey="U">Introduction</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="messaging-with-the-gnu-objective-c-runtime.html"
                        title="previous chapter">Messaging with the GNU Objective-C Runtime</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gcova-test-coverage-program.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/binary-compatibility.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="binary-compatibility">
<h1>Binary Compatibility<a class="headerlink" href="#binary-compatibility" title="Permalink to this headline">Â¶</a></h1>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><p id="index-2">Binary compatibility encompasses several related concepts:</p>
<dl class="docutils">
<dt>application binary interface (ABI)</dt>
<dd>The set of runtime conventions followed by all of the tools that deal
with binary representations of a program, including compilers, assemblers,
linkers, and language runtime support.
Some ABIs are formal with a written specification, possibly designed
by multiple interested parties.  Others are simply the way things are
actually done by a particular set of tools.</dd>
<dt>ABI conformance</dt>
<dd>A compiler conforms to an ABI if it generates code that follows all of
the specifications enumerated by that ABI.
A library conforms to an ABI if it is implemented according to that ABI.
An application conforms to an ABI if it is built using tools that conform
to that ABI and does not contain source code that specifically changes
behavior specified by the ABI.</dd>
<dt>calling conventions</dt>
<dd>Calling conventions are a subset of an ABI that specify of how arguments
are passed and function results are returned.</dd>
<dt>interoperability</dt>
<dd>Different sets of tools are interoperable if they generate files that
can be used in the same program.  The set of tools includes compilers,
assemblers, linkers, libraries, header files, startup files, and debuggers.
Binaries produced by different sets of tools are not interoperable unless
they implement the same ABI.  This applies to different versions of the
same tools as well as tools from different vendors.</dd>
<dt>intercallability</dt>
<dd>Whether a function in a binary built by one set of tools can call a
function in a binary built by a different set of tools is a subset
of interoperability.</dd>
<dt>implementation-defined features</dt>
<dd>Language standards include lists of implementation-defined features whose
behavior can vary from one implementation to another.  Some of these
features are normally covered by a platforms ABI and others are not.
The features that are not covered by an ABI generally affect how a
program behaves, but not intercallability.</dd>
<dt>compatibility</dt>
<dd>Conformance to the same ABI and the same behavior of implementation-defined
features are both relevant for compatibility.</dd>
</dl>
<p>The application binary interface implemented by a C or C++ compiler
affects code generation and runtime support for:</p>
<ul class="simple">
<li>size and alignment of data types
* layout of structured types
* calling conventions
* register usage conventions
* interfaces for runtime arithmetic support
* object file formats</li>
</ul>
<p>In addition, the application binary interface implemented by a C++ compiler
affects code generation and runtime support for:</p>
<ul class="simple">
<li>name mangling
* exception handling
* invoking constructors and destructors
* layout, alignment, and padding of classes
* layout and alignment of virtual tables</li>
</ul>
<p>Some GCC compilation options cause the compiler to generate code that
does not conform to the platforms default ABI.  Other options cause
different program behavior for implementation-defined features that are
not covered by an ABI.  These options are provided for consistency with
other compilers that do not follow the platforms default ABI or the
usual behavior of implementation-defined features for the platform.
Be very careful about using such options.</p>
<p>Most platforms have a well-defined ABI that covers C code, but ABIs
that cover C++ functionality are not yet common.</p>
<p>Starting with GCC 3.2, GCC binary conventions for C++ are based on a
written, vendor-neutral C++ ABI that was designed to be specific to
64-bit Itanium but also includes generic specifications that apply to
any platform.
This C++ ABI is also implemented by other compiler vendors on some
platforms, notably GNU/Linux and BSD systems.
We have tried hard to provide a stable ABI that will be compatible with
future GCC releases, but it is possible that we will encounter problems
that make this difficult.  Such problems could include different
interpretations of the C++ ABI by different vendors, bugs in the ABI, or
bugs in the implementation of the ABI in different compilers.
GCCs <a class="reference internal" href="options-controlling-c++-dialect.html#cmdoption-Wabi"><em class="xref std std-option">-Wabi</em></a> switch warns when G++ generates code that is
probably not compatible with the C++ ABI.</p>
<p>The C++ library used with a C++ compiler includes the Standard C++
Library, with functionality defined in the C++ Standard, plus language
runtime support.  The runtime support is included in a C++ ABI, but there
is no formal ABI for the Standard C++ Library.  Two implementations
of that library are interoperable if one follows the de-facto ABI of the
other and if they are both built with the same compiler, or with compilers
that conform to the same ABI for C++ compiler and runtime support.</p>
<p>When G++ and another C++ compiler conform to the same C++ ABI, but the
implementations of the Standard C++ Library that they normally use do not
follow the same ABI for the Standard C++ Library, object files built with
those compilers can be used in the same program only if they use the same
C++ library.  This requires specifying the location of the C++ library
header files when invoking the compiler whose usual library is not being
used.  The location of GCCs C++ header files depends on how the GCC
build was configured, but can be seen by using the G++ <a class="reference internal" href="options-controlling-the-kind-of-output.html#cmdoption-v"><em class="xref std std-option">-v</em></a> option.
With default configuration options for G++ 3.3 the compile line for a
different C++ compiler needs to include</p>
<div class="highlight-c++"><pre>-I``gcc_install_directory``/include/c++/3.3</pre>
</div>
<p>Similarly, compiling code with G++ that must use a C++ library other
than the GNU C++ library requires specifying the location of the header
files for that other library.</p>
<p>The most straightforward way to link a program to use a particular
C++ library is to use a C++ driver that specifies that C++ library by
default.  The <strong class="command">g++</strong> driver, for example, tells the linker where
to find GCCs C++ library (libstdc++) plus the other libraries
and startup files it needs, in the proper order.</p>
<p>If a program must use a different C++ library and its not possible
to do the final link using a C++ driver that uses that library by default,
it is necessary to tell <strong class="command">g++</strong> the location and name of that
library.  It might also be necessary to specify different startup files
and other runtime support libraries, and to suppress the use of GCCs
support libraries with one or more of the options <a class="reference internal" href="options-for-linking.html#cmdoption-nostdlib"><em class="xref std std-option">-nostdlib</em></a>,
<a class="reference internal" href="options-for-linking.html#cmdoption-nostartfiles"><em class="xref std std-option">-nostartfiles</em></a>, and <a class="reference internal" href="options-for-linking.html#cmdoption-nodefaultlibs"><em class="xref std std-option">-nodefaultlibs</em></a>.</p>
<p>&#64;c man begin COPYRIGHT
Copyright &#64;copyright{} 1996-2015 Free Software Foundation, Inc.</p>
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being <a href="#id1"><span class="problematic" id="id2">``</span></a>GNU General Public License&#8217;&#8217; and <a href="#id3"><span class="problematic" id="id4">``</span></a>Funding
Free Software&#8217;&#8216;, the Front-Cover texts being (a) (see below), and with
the Back-Cover Texts being (b) (see below).  A copy of the license is
included in the gfdl(7) man page.</p>
<ol class="loweralpha">
<li><p class="first">The FSF&#8217;s Front-Cover Text is:</p>
<blockquote>
<div><p>A GNU Manual</p>
</div></blockquote>
</li>
<li><p class="first">The FSF&#8217;s Back-Cover Text is:</p>
<blockquote>
<div><p>You have freedom to copy and modify this GNU Manual, like GNU
software.  Copies published by the Free Software Foundation raise
funds for GNU development.</p>
</div></blockquote>
</li>
</ol>
<p>&#64;c man end
&#64;c Set file name and title for the man page.
&#64;setfilename gcov
&#64;settitle coverage testing tool</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gcova-test-coverage-program.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="messaging-with-the-gnu-objective-c-runtime.html" title="Messaging with the GNU Objective-C Runtime"
             >previous</a> |</li>
        <li><a href="index.html">gcc 6 documentation</a> &raquo;</li>
          <li><a href="gcc.html" >Introduction</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, gcc peeps.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>