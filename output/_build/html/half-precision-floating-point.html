

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Half-Precision Floating Point &mdash; gcc 6 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="gcc 6 documentation" href="index.html" />
    <link rel="up" title="Extensions to the C Language Family" href="extensions-to-the-c-language-family.html" />
    <link rel="next" title="Decimal Floating Types" href="decimal-floating-types.html" />
    <link rel="prev" title="Additional Floating Types" href="additional-floating-types.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="decimal-floating-types.html" title="Decimal Floating Types"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="additional-floating-types.html" title="Additional Floating Types"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">gcc 6 documentation</a> &raquo;</li>
          <li><a href="gcc.html" >Introduction</a> &raquo;</li>
          <li><a href="extensions-to-the-c-language-family.html" accesskey="U">Extensions to the C Language Family</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="additional-floating-types.html"
                        title="previous chapter">Additional Floating Types</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="decimal-floating-types.html"
                        title="next chapter">Decimal Floating Types</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/half-precision-floating-point.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="half-precision-floating-point">
<span id="half-precision"></span><h1>Half-Precision Floating Point<a class="headerlink" href="#half-precision-floating-point" title="Permalink to this headline">Â¶</a></h1>
<span class="target" id="index-0"></span><p id="index-1">On ARM targets, GCC supports half-precision (16-bit) floating point via
the <tt class="docutils literal"><span class="pre">__fp16</span></tt> type.  You must enable this type explicitly
with the <a class="reference internal" href="hardware-models-and-configurations.html#cmdoption-mfp16-format"><em class="xref std std-option">-mfp16-format</em></a> command-line option in order to use it.</p>
<p>ARM supports two incompatible representations for half-precision
floating-point values.  You must choose one of the representations and
use it consistently in your program.</p>
<p>Specifying <em class="xref std std-option">-mfp16-format=ieee</em> selects the IEEE 754-2008 format.
This format can represent normalized values in the range of 2^{-14} to 65504.
There are 11 bits of significand precision, approximately 3
decimal digits.</p>
<p>Specifying <em class="xref std std-option">-mfp16-format=alternative</em> selects the ARM
alternative format.  This representation is similar to the IEEE
format, but does not support infinities or NaNs.  Instead, the range
of exponents is extended, so that this format can represent normalized
values in the range of 2^{-14} to 131008.</p>
<p>The <tt class="docutils literal"><span class="pre">__fp16</span></tt> type is a storage format only.  For purposes
of arithmetic and other operations, <tt class="docutils literal"><span class="pre">__fp16</span></tt> values in C or C++
expressions are automatically promoted to <tt class="docutils literal"><span class="pre">float</span></tt>.  In addition,
you cannot declare a function with a return value or parameters
of type <tt class="docutils literal"><span class="pre">__fp16</span></tt>.</p>
<p>Note that conversions from <tt class="docutils literal"><span class="pre">double</span></tt> to <tt class="docutils literal"><span class="pre">__fp16</span></tt>
involve an intermediate conversion to <tt class="docutils literal"><span class="pre">float</span></tt>.  Because
of rounding, this can sometimes produce a different result than a
direct conversion.</p>
<p>ARM provides hardware support for conversions between
<tt class="docutils literal"><span class="pre">__fp16</span></tt> and <tt class="docutils literal"><span class="pre">float</span></tt> values
as an extension to VFP and NEON (Advanced SIMD).  GCC generates
code using these hardware instructions if you compile with
options to select an FPU that provides them;
for example, <em class="xref std std-option">-mfpu=neon-fp16 -mfloat-abi=softfp</em>,
in addition to the <a class="reference internal" href="hardware-models-and-configurations.html#cmdoption-mfp16-format"><em class="xref std std-option">-mfp16-format</em></a> option to select
a half-precision format.</p>
<p>Language-level support for the <tt class="docutils literal"><span class="pre">__fp16</span></tt> data type is
independent of whether GCC generates code using hardware floating-point
instructions.  In cases where hardware support is not specified, GCC
implements conversions between <tt class="docutils literal"><span class="pre">__fp16</span></tt> and <tt class="docutils literal"><span class="pre">float</span></tt> values
as library calls.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="decimal-floating-types.html" title="Decimal Floating Types"
             >next</a> |</li>
        <li class="right" >
          <a href="additional-floating-types.html" title="Additional Floating Types"
             >previous</a> |</li>
        <li><a href="index.html">gcc 6 documentation</a> &raquo;</li>
          <li><a href="gcc.html" >Introduction</a> &raquo;</li>
          <li><a href="extensions-to-the-c-language-family.html" >Extensions to the C Language Family</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, gcc peeps.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>